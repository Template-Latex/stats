var loadingBarAnimation;if(!String.format){String.format=function(c){var b=Array.prototype.slice.call(arguments,1);return c.replace(/{(\d+)}/g,function(d,e){return typeof b[e]!=="undefined"?b[e]:d})}}$.urlParam=function(b){var c=new RegExp("[?&]"+b+"=([^&#]*)").exec(window.location.href);if(c==null){return null}else{return decodeURI(c[1])||0}};function roundNumber(c,e){if(!(""+c).includes("e")){return +(Math.round(c+"e+"+e)+"e-"+e)}else{var b=(""+c).split("e");var d="";if(+b[1]+e>0){d="+"}let i=+b[0]+"e"+d+(+b[1]+e);let j=Math.round(i);return +(j+"e-"+e)}}function getMaxOfArray(b){return Math.max.apply(null,b)}function loadingBarTrigger(){$("#progressLoading").html(" ");switch(processBarAnimationStyle){case 1:var b=new ProgressBar.Circle("#progressLoading",{strokeWidth:processBarStrokeWidth,easing:"easeInOut",duration:timeDurationProcessBar,color:processBarColor,trailColor:processBarColor,trailWidth:0.01,svgStyle:null});b.animate(1);break;case 2:var c=new ProgressBar.Circle("#progressLoading",{color:processBarColor,trailColor:processBarLColor,strokeWidth:processBarStrokeWidth,duration:2500,easing:"easeInOut"});c.set(0.05);setTimeout(function(){c.animate(0.3)},1000);setTimeout(function(){c.animate(0.4)},3500);setTimeout(function(){c.animate(0.8)},5500);setTimeout(function(){c.animate(1)},8000);break}}function parseDate(c){var b=c.split("-");return new Date(b[0],b[1]-1,b[2])}function daydiff(c,b){return Math.round((b-c)/(1000*60*60*24))}function parseDevVersion(b){if(b.length>7){b=b.substring(0,7)}return b}function getURLParameter(b){return decodeURIComponent((new RegExp("[?|&]"+b+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function changeUrlParam(h,c){var g=window.location.href+"&";var l=new RegExp("("+h+")=(.*)&","g");var f=g.replace(l,"$1="+c+"&");if(getURLParameter(h)!==null){try{window.history.replaceState("","",f.slice(0,-1))}catch(d){console.log(d)}}else{var b=window.location.href;if(b.indexOf("?")!==-1){window.history.replaceState("","",g.slice(0,-1)+"&"+h+"="+c)}else{window.history.replaceState("","",g.slice(0,-1)+"?"+h+"="+c)}}}function initializeChartjsPlugins(){Chart.pluginService.register({beforeRender:function(b){if(b.config.options.showAllTooltips){b.pluginTooltips=[];b.config.data.datasets.forEach(function(d,c){b.getDatasetMeta(c).data.forEach(function(f,e){b.pluginTooltips.push(new Chart.Tooltip({_chart:b.chart,_chartInstance:b,_data:b.data,_options:b.options.tooltips,_active:[f]},b))})});b.options.tooltips.enabled=false}},afterDraw:function(b,c){if(b.config.options.showAllTooltips){if(!b.allTooltipsOnce){if(c!==1){return}b.allTooltipsOnce=true}b.options.tooltips.enabled=true;Chart.helpers.each(b.pluginTooltips,function(d){d.initialize();d.update();d.pivot();d.transition(c).draw()});b.options.tooltips.enabled=false}}})}function loadTemplate(b){cleanErrorMsg();console.log(String.format("Cargando ID <{0}> ...",b));var d;try{d=stat[b]}catch(f){throwErrorID(errorID.badtemplateid);return}finally{}try{$("#templateNameTxt").html(String.format('<a href="{1}">{0}</a>',d.header,d.link));$(document).prop("title","Stats - "+d.header);$("#progressLoading").fadeTo("slow",processBarSetOpacity);loadingBarTrigger();loadingBarAnimation=setInterval(function(){loadingBarTrigger()},timeDurationProcessBar+50)}catch(f){throwErrorID(errorID.loadingbarsetup,f);return}finally{}changeUrlParam("template",d.tag);writeGraphCanvases();$("#tableMem").html("");if(!hasLoaded){$("#mainSelector option[value='none']").remove()}else{$("#footer").css("display","none");$("#mainContent").css("display","none");try{if($.fn.DataTable.isDataTable("#mainTable")){$("#mainTable").DataTable().clear().destroy();writeTableHeader()}}catch(f){throwErrorID(errorID.deletetable,f);return}finally{}}var c=jQuery.get(String.format("{0}{1}",mainUrl,d.data),function(H){try{H=H.split("\n");var G=[];var v=[];var t=[];var r=[];var l=[];try{for(let y=1;y<H.length;y++){a=[];line=H[y].split(" ");for(var x=0;x<line.length;x++){if(line[x]!==""){a.push(line[x])}}l.push(a);G.push(parseInt(a[0]));v.push(parseFloat(a[2]));t.push(parseInt(a[4]));r.push(parseDevVersion(a[1]));$("#tableMem").append(String.format("<tr><td>{0}</td><td>{1}</td><td>{2}</td><td>{3}</td><td>{4}</td><td>{5}</td></tr>",a[0],a[1],a[2],a[3],a[4],a[5]))}}catch(B){throwErrorID(errorID.parsedata,B);return}finally{}try{lenghtmenuoption=[];if(l.length>=tableMaxReg){lenghtmenuoption=[tableMinReg,tableMedReg,tableHighReg,tableMaxReg]}else{if(tableHighReg<=l.length&&l.length<tableMaxReg){lenghtmenuoption=[tableMinReg,tableMedReg,tableHighReg,l.length]}else{if(tableMedReg<=l.length&&l.length<tableHighReg){lenghtmenuoption=[tableMinReg,tableMedReg,l.length]}else{if(tableMinReg<=l.length&&l.length<tableMedReg){lenghtmenuoption=[tableMinReg,l.length]}else{lenghtmenuoption=[l.length]}}}}$("#mainTable").DataTable({language:{url:"http://latex.ppizarror.com/stats/res/tableSpanish.json"},order:[[0,"desc"]],lengthMenu:lenghtmenuoption})}catch(B){throwErrorID(errorID.generatetable,B);return}finally{}hasLoaded=true;try{mean_ctime=roundNumber(jStat.mean(v),2);plot_mean_ctime=[];plot_partial_mean_ctime=[];total_sum=0;for(k=0;k<l.length;k++){plot_mean_ctime.push(mean_ctime);total_sum+=v[k];plot_partial_mean_ctime.push(roundNumber(total_sum/(k+1),2))}}catch(B){throwErrorID(errorID.calcctimemean,B);return}finally{}try{day_activity=[];day_activity_counter=[];for(var y=0;y<l.length;y++){k=jQuery.inArray(l[y][3],day_activity);if(k===-1){day_activity.push(l[y][3]);day_activity_counter.push(1)}else{day_activity_counter[k]+=1}}}catch(B){throwErrorID(errorID.errorcreatedayactivitystat,B);return}finally{}try{if(day_activity.length>1){new Chart($("#plot-activityday"),{type:"bar",data:{labels:day_activity,datasets:[{data:day_activity_counter,label:"Número de commits",borderColor:"#7e0042",backgroundColor:"#7e0042"}]},options:{title:{display:true,text:"Actividad por día",fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{scaleLabel:{display:true,labelString:"Número de commits"},ticks:{min:0}}],xAxes:[{scaleLabel:{display:true,labelString:"Fecha"}}]},legend:{display:false},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend}}})}else{$("#plot-activityday").remove()}if(plotXaxisID){new Chart($("#plot-ctime"),{type:"line",data:{labels:G,datasets:[{data:v,label:"Tiempo de compilación (s)",borderColor:"#8436d7",backgroundColor:"#8436d7",fill:false,borderWidth:plotLineWidth,radius:1},{data:plot_mean_ctime,label:"Promedio (s)",borderColor:"#e470f6",backgroundColor:"#e470f6",borderDash:[5,5],borderWidth:plotLineWidth,fill:false,radius:0},{data:plot_partial_mean_ctime,label:"Promedio parcial (s)",borderColor:"#fccf5f",backgroundColor:"#fccf5f",borderWidth:2,fill:false,radius:0}]},options:{title:{display:true,text:"Tiempo de compilación",fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend,callbacks:{title:function(e,I){elemindex=G.indexOf(parseInt(e[0].xLabel));if(elemindex!==-1){return String.format("ID:{2} v{0} ({1}) ",l[elemindex][1],l[elemindex][3],e[0].xLabel)}else{return e[0].xLabel}}}},responsive:true,scales:{yAxes:[{scaleLabel:{display:true,labelString:"Tiempo de compilación (s)"}}],xAxes:[{scaleLabel:{display:true,labelString:"ID de compilación"}}]},legend:{display:true}}});new Chart($("#plot-nline"),{type:"line",data:{labels:G,datasets:[{data:t,label:"N° líneas de código",borderColor:"#3e95cd",backgroundColor:"#3e95cd",fill:false,radius:0,tension:0,borderWidth:plotLineWidth}]},options:{title:{display:true,text:"N° líneas de código en el tiempo",fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{scaleLabel:{display:true,labelString:"Líneas de código"}}],xAxes:[{scaleLabel:{display:true,labelString:"ID de compilación"}}]},legend:{display:false},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend,callbacks:{title:function(e,I){elemindex=G.indexOf(parseInt(e[0].xLabel));if(elemindex!==-1){return String.format("ID:{2} v{0} ({1}) ",l[elemindex][1],l[elemindex][3],e[0].xLabel)}else{return e[0].xLabel}}}}}})}else{new Chart($("#plot-ctime"),{type:"line",data:{labels:r,datasets:[{data:v,label:"Tiempo de compilación (s)",borderColor:"#8436d7",backgroundColor:"#8436d7",fill:false,borderWidth:plotLineWidth,radius:1},{data:plot_mean_ctime,label:"Promedio (s)",borderColor:"#e470f6",backgroundColor:"#e470f6",borderDash:[5,5],borderWidth:plotLineWidth,fill:false,radius:0},{data:plot_partial_mean_ctime,label:"Promedio parcial (s)",borderColor:"#fccf5f",backgroundColor:"#fccf5f",borderWidth:2,fill:false,radius:0}]},options:{title:{display:true,text:"Tiempo de compilación (ctime)",fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend},responsive:true,scales:{yAxes:[{scaleLabel:{display:true,labelString:"Tiempo de compilación (s)"}}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión"}}]},legend:{display:true}}});new Chart($("#plot-nline"),{type:"line",data:{labels:r,datasets:[{data:t,label:"Número de líneas de código",borderColor:"#3e95cd",backgroundColor:"#3e95cd",fill:false,radius:0,tension:0,borderWidth:plotLineWidth}]},options:{title:{display:true,text:"Línea de código en el tiempo",fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{scaleLabel:{display:true,labelString:"Líneas de código"}}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión"}}]},legend:{display:false},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend}}})}}catch(B){throwErrorID(errorID.genplots,B);return}finally{}var o=[];var n=[];var F=[];var q=[];var C=[];var D=[];var h=[];var p=[];var z=[];var E=[];var A=[];var u=0;var s=0;var m=[];var g=[];var w=$.getJSON(d.json,function(au){try{if(b==="informe"){var ap=-1;var aj=-1;var Q=au[0].assets;for(let aA=0;aA<Q.length;aA++){if(Q[aA].name==="Template-Informe.zip"){aj=aA}if(Q[aA].name==="Template-Informe-Single.zip"){ap=aA}}if(ap===-1||aj===-1){throwErrorID(errorID.erroridnormalsingle);return}var M=[];var ay=[];var ac=[];var ad=[];var aD=[];var J=[];var ao=[];for(var aA=0;aA<Q.length;aA++){K=Q[aA].name.split("-");if(K.length===4){K=K[2];if(ao.indexOf(K)===-1){ao.push(K);M.push([]);ay.push([]);ac.push(0);ad.push(0);aD.push(0)}}}var V;var Z=0;for(aA=au.length-1;aA>=0;aA--){if(au[aA].assets.length<=2){try{o.push(au[aA].assets[0].download_count);n.push(au[aA].assets[1].download_count);F.push(au[aA].assets[0].download_count+au[aA].assets[1].download_count);h.push(au[aA].published_at.substring(0,10));D.push(parseDate(au[aA].published_at.substring(0,10)));p.push(roundNumber(au[aA].assets[0].size/1000,2));z.push(roundNumber(au[aA].assets[1].size/1000,2));E.push(au[aA].assets[0].download_count+au[aA].assets[1].download_count);A.push(au[aA].tag_name);u+=au[aA].assets[0].download_count;s+=au[aA].assets[1].download_count;m.push(au[aA].assets[1].download_count);g.push(au[aA].tag_name)}catch(aB){}}else{Z+=1;V=au[aA].assets;h.push(au[aA].published_at.substring(0,10));D.push(parseDate(au[aA].published_at.substring(0,10)));p.push(roundNumber(au[aA].assets[ap].size/1000,2));z.push(roundNumber(au[aA].assets[aj].size/1000,2));var ak=0;var Y=0;var ar=false;var aE,K,ai,an;for(x=0;x<V.length;x++){aE=au[aA].assets[x].name;K=au[aA].assets[x].name.split("-");if(K.length===4){K=K[2]}else{if(K.length===3){K=K[2].replace(".zip","")}else{K=""}}ai=ao.indexOf(K);ar=ai!==-1;an=parseInt(au[aA].assets[x].download_count);if(aE.includes("Single")){Y+=an;if(ar){ay[ai].push(an);aD[ai]+=an}}else{ak+=an;if(ar){M[ai].push(an);ad[ai]+=an}}if(ar){ac[ai]+=an}}o.push(Y);n.push(ak);F.push(ak+Y);E.push(ak+Y);A.push(au[aA].tag_name);J.push(au[aA].tag_name);u+=Y;s+=ak;m.push(ak);g.push(au[aA].tag_name)}}}else{for(aA=au.length-1;aA>=0;aA--){try{o.push(au[aA].assets[0].download_count);n.push(au[aA].assets[1].download_count);F.push(au[aA].assets[0].download_count+au[aA].assets[1].download_count);h.push(au[aA].published_at.substring(0,10));D.push(parseDate(au[aA].published_at.substring(0,10)));p.push(roundNumber(au[aA].assets[0].size/1000,2));z.push(roundNumber(au[aA].assets[1].size/1000,2));E.push(au[aA].assets[0].download_count+au[aA].assets[1].download_count);A.push(au[aA].tag_name);u+=au[aA].assets[0].download_count;s+=au[aA].assets[1].download_count;m.push(au[aA].assets[1].download_count);g.push(au[aA].tag_name)}catch(aB){}}$("#plot-piedptototal").remove();$("#plot-piedptolast").remove();$("#plot-dptodownloadlines").remove()}try{var ah=getDownloadCounter(d.name)}catch(aC){throwErrorID(errorID.retrievedownloadcounter,aC);return}finally{}ah.reverse();for(aA=0;aA<ah.length;aA++){let vindx=g.indexOf(ah[aA][1]);if(vindx===-1){g.unshift(ah[aA][1]);F.unshift(ah[aA][0])}else{}}for(aA=0;aA<m.length;aA++){if(E[aA]!==0){m[aA]=roundNumber(100*m[aA]/E[aA],downloadVariationRoundNumber)}else{m[aA]=roundNumber(0,downloadVariationRoundNumber)}}x=-1;var am="",P;for(aA=0;aA<g.length;aA++){P=g[aA].substring(0,2);if(P[1]==="."){P=P[0]}else{if(P[0]==="<"){P=P[1]}}if(am!==P){C.push(P);q.push(F[aA]);x+=1}else{q[x]+=F[aA]}am=P}var at=[F[0]];for(aA=1;aA<F.length;aA++){at.push(F[aA]+at[aA-1])}var al=u+s;var ab=[];for(aA=0;aA<D.length-1;aA++){ab.push(Math.max(daydiff(D[aA],D[aA+1]),1))}ab.push(Math.max(daydiff(D[D.length-1],new Date()),1));var av=[];var ag=[];var U=[];for(aA=0;aA<ab.length;aA++){av.push(roundNumber(o[aA]/ab[aA],2));ag.push(roundNumber(n[aA]/ab[aA],2));U.push(roundNumber(E[aA]/ab[aA],2))}var X=Math.min(30,au.length);try{if(au.length>=1){if(b==="informe"){var L=[];var W=[];var T=[];var I=0;var S=ay[0].length-1;var R=[];var N=0;var ax=[];var aw=0;var aq=[];var az=[];var af=0;var aa;var O;for(aA=0;aA<ao.length;aA++){if(ac[aA]>0){W.push(ao[aA].toUpperCase());T.push(ac[aA]);I+=ac[aA];af=ay[aA][S]+M[aA][S];aa="#"+(Math.random().toString(16)+"0000000").slice(2,8);L.push(aa);if(af>0){N+=af;R.push(af);aq.push(ao[aA].toUpperCase());az.push(aa)}O=[];for(let k=0;k<Z;k++){O.push(ay[aA][k]+M[aA][k])}aw=Math.max(aw,getMaxOfArray(O));var ae=dptosDisplayDefaultLinePlot.indexOf(ao[aA].toUpperCase())===-1;ax.push({label:ao[aA].toUpperCase(),backgroundColor:aa,borderColor:aa,data:O,fill:false,radius:1,tension:0.3,borderWidth:plotLineWidth,hidden:ae})}}aw=roundNumber(aw*1.2,0);new Chart($("#plot-dptodownloadlines"),{type:"line",data:{labels:J,datasets:ax},options:{title:{display:true,text:String.format("Descargas por departamento últimas {0} versiones",Z),fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{scaleLabel:{display:true,labelString:"Número de descargas"},ticks:{beginAtZero:true,callback:function(e){if(e%1===0){return e}},max:aw}}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión"}}]},legend:{display:true},responsive:true,tooltips:{enabled:true,intersect:plotIntersectToShowLegend,callbacks:{title:function(e){let elemindex=A.indexOf(e[0].xLabel);if(elemindex!==-1){return String.format("Versión {0} ({1})",e[0].xLabel,h[elemindex])}else{return e[0].xLabel}}}}}});if(N>0){new Chart($("#plot-piedptolast"),{type:"pie",data:{labels:aq,datasets:[{data:R,label:"N° descargas de cada versión",borderColor:az,backgroundColor:az}]},options:{title:{display:true,text:String.format("Distribución descargas departamentos última versión v{1} ({0} descargas)",N,J[S]),fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},legend:{display:true,position:"right"},showAllTooltips:false,tooltips:{enabled:true,mode:"index",intersect:true,callbacks:{label:function(aI,aK){var aH=aK.datasets[aI.datasetIndex].data;var aF=aK.labels[aI.index];var aJ=aH[aI.index];var aG=0;for(var e in aH){aG+=parseInt(aH[e])}var aL=Math.round((aJ/aG)*100);return aF+": "+aJ+" ("+aL+"%)"}}}}})}else{$("#plot-piedptolast").remove()}new Chart($("#plot-piedptototal"),{type:"pie",data:{labels:W,datasets:[{data:T,label:"N° descargas de cada versión",borderColor:L,backgroundColor:L}]},options:{title:{display:true,text:String.format("Distribución descargas departamentos últimas {1} versiones ({0} descargas)",I,Z),fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},legend:{display:true,position:"right"},showAllTooltips:false,tooltips:{enabled:true,mode:"index",intersect:true,callbacks:{label:function(aI,aK){var aH=aK.datasets[aI.datasetIndex].data;var aF=aK.labels[aI.index];var aJ=aH[aI.index];var aG=0;for(var e in aH){aG+=parseInt(aH[e])}var aL=Math.round((aJ/aG)*100);return aF+": "+aJ+" ("+aL+"%)"}}}}})}if(au.length>1){new Chart($("#plot-vartypedownload"),{type:"line",data:{labels:A,datasets:[{data:m,label:"Modo normal",borderColor:"#6d26bb",backgroundColor:"#6d26bb",fill:false,radius:1,borderWidth:plotLineWidth}]},options:{title:{display:true,text:String.format("Variación distribución de descargas últimas {0} versiones",X),fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{scaleLabel:{display:true,labelString:"Porcentaje descarga (%)"},ticks:{max:100}}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión"}}]},legend:{display:false},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend,callbacks:{title:function(e){let elemindex=A.indexOf(e[0].xLabel);if(elemindex!==-1){return String.format("Versión {0} ({1})",e[0].xLabel,h[elemindex])}else{return e[0].xLabel}}}}}});new Chart($("#plot-downloadsperday"),{type:"line",data:{labels:A,datasets:[{data:U,label:"Total descargas por día",borderColor:"#2b2b2b",backgroundColor:"#2b2b2b",fill:false,radius:1,borderWidth:plotLineWidth},{data:ag,label:"Modo normal",borderColor:"#606060",backgroundColor:"#606060",fill:false,radius:1,borderWidth:plotLineWidth},{data:av,label:"Modo compacto",borderColor:"#a4a4a4",backgroundColor:"#a4a4a4",fill:false,radius:1,borderWidth:plotLineWidth}]},options:{title:{display:true,text:String.format("Descargas por día últimas {0} versiones",X),fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{scaleLabel:{display:true,labelString:"Descargas por día"}}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión"}}]},legend:{display:true},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend,callbacks:{title:function(e){let elemindex=A.indexOf(e[0].xLabel);if(elemindex!==-1){return String.format("Versión {0} ({1})",e[0].xLabel,h[elemindex])}else{return e[0].xLabel}}}}}});new Chart($("#plot-acumdownloads"),{type:"line",data:{labels:g,datasets:[{data:at,label:"N° de descargas acumuladas",borderColor:"#9f0000",backgroundColor:"#9f0000",fill:false,borderWidth:plotLineWidth,radius:0,tension:0.02,pointStyle:"circle"}]},options:{title:{display:true,text:"N° de descargas acumuladas",fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{scaleLabel:{display:true,labelString:"Descargas acumuladas"}}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión"}}]},legend:{display:false},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend,callbacks:{title:function(e){return String.format("Versión {0}",e[0].xLabel)}}}}});new Chart($("#plot-pielastdays"),{type:"pie",data:{labels:["Versión compacta","Versión normal"],datasets:[{data:[u,s],label:"N° descargas de cada versión",borderColor:["#ff6000","#afac1a"],backgroundColor:["#ff6000","#afac1a"]}]},options:{title:{display:true,text:String.format("Distribución descargas últimas {1} versiones ({0} descargas)",al,X),fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},legend:{display:true,position:"right"},showAllTooltips:false,tooltips:{enabled:true,mode:"index",intersect:true,callbacks:{label:function(aI,aK){var aH=aK.datasets[aI.datasetIndex].data;var aF=aK.labels[aI.index];var aJ=aH[aI.index];var aG=0;for(var e in aH){aG+=aH[e]}var aL=Math.round((aJ/aG)*100);return aF+": "+aJ+" ("+aL+"%)"}}}}});new Chart($("#plot-totaldownloads"),{type:downloadTotalChartType,data:{labels:g,datasets:[{data:F,label:"Número de descargas de versión",borderColor:"#004f16",backgroundColor:"#004f16",fill:false,borderWidth:plotLineWidth,radius:0,pointStyle:"circle"}]},options:{title:{display:true,text:"Total de descargas",fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{scaleLabel:{display:true,labelString:"Descargas de cada versión"},ticks:{min:0,max:roundNumber(jStat.max(F)*0.12,0)*10}}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión"}}]},legend:{display:false},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend,callbacks:{title:function(e,aF){return String.format("Versión {0}",e[0].xLabel)}}}}});if(C.length>1){new Chart($("#plot-gloverdownloads"),{type:"line",data:{labels:C,datasets:[{data:q,label:"Descargas versión global",borderColor:"#8f7c31",backgroundColor:"#8f7c31",fill:false,borderWidth:plotLineWidth,radius:1,pointStyle:"circle"}]},options:{title:{display:true,text:"Descargas totales por versión global",fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{scaleLabel:{display:true,labelString:"Descargas totales"}}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión global"}}]},legend:{display:false},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend,callbacks:{title:function(e){return String.format("Versión {0}",e[0].xLabel)}}}}})}else{$("#plot-gloverdownloads").remove()}switch(downloadPartChartType){case"style1":new Chart($("#plot-partdownloads"),{type:"bar",data:{labels:A,datasets:[{data:ab,label:"Días activo",borderColor:"#530071",backgroundColor:"#530071",fill:false,borderWidth:plotLineWidth,radius:1,pointStyle:"circle",yAxisID:"y-axis-2",type:"line"},{data:n,label:"Descargas normal",borderColor:"#057375",backgroundColor:"#057375",yAxisID:"y-axis-1"},{data:o,label:"Descargas compacta",borderColor:"#aab104",backgroundColor:"#aab104",yAxisID:"y-axis-1"}]},options:{title:{display:true,text:String.format("Descargas por versión y días activos últimas {0} versiones",X),fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{display:true,position:"left",id:"y-axis-1",scaleLabel:{labelString:"Número de descargas",display:true},stacked:true},{position:"right",id:"y-axis-2",gridLines:{drawOnChartArea:false},scaleLabel:{labelString:"Días activo",display:true},stacked:false}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión"},stacked:true}]},legend:{display:true},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend,callbacks:{title:function(e){let elemindex=A.indexOf(e[0].xLabel);if(elemindex!==-1){return String.format("Versión {0} ({1})",e[0].xLabel,h[elemindex])}else{return e[0].xLabel}}}}}});break;case"style2":new Chart($("#plot-partdownloads"),{type:"line",data:{labels:A,datasets:[{data:n,label:"Versión normal",borderColor:"#057375",backgroundColor:"#057375",fill:false,borderWidth:plotLineWidth,radius:2,pointStyle:"circle",tension:0,yAxisID:"y-axis-1"},{data:o,label:"Versión compacta",borderColor:"#aab104",backgroundColor:"#aab104",fill:false,borderWidth:plotLineWidth,radius:2,pointStyle:"rect",tension:0,yAxisID:"y-axis-1"},{data:E,label:"Suma",borderColor:"#001471",backgroundColor:"#001471",fill:false,borderWidth:plotLineWidth,radius:2,borderDash:[5,5],pointStyle:"cross",tension:0,yAxisID:"y-axis-1"},{data:ab,label:"Días activo",borderColor:"#530071",backgroundColor:"#530071",fill:false,borderWidth:plotLineWidth,radius:1,pointStyle:"triangle",tension:0,yAxisID:"y-axis-2"}]},options:{title:{display:false,text:"Descargas por modo",fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{display:true,position:"left",id:"y-axis-1",scaleLabel:{labelString:"Número de descargas",display:true}},{display:true,position:"right",id:"y-axis-2",gridLines:{drawOnChartArea:false},scaleLabel:{labelString:"Días activo",display:true}}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión"}}]},legend:{display:true},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend,callbacks:{title:function(e,aF){elemindex=A.indexOf(e[0].xLabel);if(elemindex!==-1){return String.format("Versión {0} ({1})",e[0].xLabel,h[elemindex])}else{return e[0].xLabel}}}}}});break;default:throwErrorID(errorID.invalidchartdownloadparttype,"");return}}else{$("#plot-acumdownloads").remove();$("#plot-downloadsperday").remove();$("#plot-gloverdownloads").remove();$("#plot-partdownloads").remove();$("#plot-pielastdays").remove();$("#plot-totaldownloads").remove();$("#plot-vartypedownload").remove()}if((o[au.length-1]+n[au.length-1])>0){new Chart($("#plot-pielastversion"),{type:"pie",data:{labels:["Versión compacta","Versión normal"],datasets:[{data:[o[au.length-1],n[au.length-1]],label:"N° descargas de cada versión",borderColor:["#70dad0","#535eda"],backgroundColor:["#70dad0","#535eda"]}]},options:{title:{display:true,text:String.format("Distribución descargas última versión v{0} ({1} descargas)",A[au.length-1],o[au.length-1]+n[au.length-1]),fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},legend:{display:true,position:"right"},showAllTooltips:false,tooltips:{callbacks:{label:function(aI,aK){var aH=aK.datasets[aI.datasetIndex].data;var aF=aK.labels[aI.index];var aJ=aH[aI.index];var aG=0;for(var e in aH){aG+=aH[e]}var aL=Math.round((aJ/aG)*100);return aF+": "+aJ+" ("+aL+"%)"}}}}})}else{$("#plot-pielastversion").remove()}new Chart($("#plot-sizeversion"),{type:"line",data:{labels:A,datasets:[{data:z,label:"Versión normal",borderColor:"#ff8f2e",backgroundColor:"#ff8f2e",fill:false,borderWidth:plotLineWidth,radius:2,pointStyle:"circle"},{data:p,label:"Versión compacta",borderColor:"#ff346f",backgroundColor:"#ff346f",fill:false,borderWidth:plotLineWidth,radius:2,pointStyle:"triangle"}]},options:{title:{display:true,text:String.format("Peso en KB de últimas {0} versiones",X),fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},scales:{yAxes:[{scaleLabel:{display:true,labelString:"Peso (KB)"}}],xAxes:[{scaleLabel:{display:true,labelString:"Número de versión"}}]},legend:{display:true},responsive:true,tooltips:{enabled:true,mode:"index",intersect:plotIntersectToShowLegend,callbacks:{label:function(e,aG){var aF=aG.datasets[e.datasetIndex].data[e.index];aF=aF.toString();aF=aF.replace(".",",");return String.format("{0}: {1} KB",aG.datasets[e.datasetIndex].label,aF)},title:function(e){let elemindex=A.indexOf(e[0].xLabel);if(elemindex!==-1){return String.format("Versión {0} ({1})",e[0].xLabel,h[elemindex])}else{return e[0].xLabel}}}}}});if(showPieDownloadChart){$("#plot-piedownloads").css("display","block");let total_downloads_colors_pie=[];for(var aA=0;aA<F.length;aA++){total_downloads_colors_pie.push("#"+(Math.random().toString(16)+"0000000").slice(2,8))}new Chart($("#plot-piedownloads"),{type:"pie",data:{labels:g,datasets:[{label:"Descargas por versión",backgroundColor:total_downloads_colors_pie,borderColor:total_downloads_colors_pie,data:F}]},options:{title:{display:true,text:"Descargas por versión",fontSize:plotTitleFontSize,fontStyle:plotTitleFontStyle},legend:{display:false}}})}}else{$("#plot-acumdownloads").remove();$("#plot-downloadsperday").remove();$("#plot-gloverdownloads").remove();$("#plot-partdownloads").remove();$("#plot-piedownloads").remove();$("#plot-pielastdays").remove();$("#plot-pielastversion").remove();$("#plot-sizeversion").remove();$("#plot-totaldownloads").remove();$("#plot-vartypedownload").remove()}}catch(aC){throwErrorID(errorID.downloadgraph,aC);return}finally{}setTimeout(function(){$("#mainContent").fadeIn("slow",function(){$("#footer").css("display","inline-block");clearInterval(loadingBarAnimation);$("#progressLoading").html("");$("#progressLoading").fadeTo("slow",1)});console.log("Carga exitosa")},timeShowContentOnLoad)}catch(aC){throwErrorID(errorID.getdownloads,aC)}finally{}});w.fail(function(){throwErrorID(errorID.erroraccessjsonreleases)})}catch(B){throwErrorID(errorID.criticaltemplateloading,B)}finally{}});c.fail(function(){throwErrorID(errorID.erroraccessfile)})}function writeTableHeader(){$("#tableData").html(String.format('<table id="mainTable" class="display" width="100%" cellspacing="0"><thead><tr><th>{0}</th><th>{1}</th><th>{2}</th><th>{3}</th><th>{4}</th><th>{5}</th></tr></thead><tfoot><tr><th>{0}</th><th>{1}</th><th>{2}</th><th>{3}</th><th>{4}</th><th>{5}</th></tr></tfoot><tbody id="tableMem"></tbody></table>',tableDataNameCols[0],tableDataNameCols[1],tableDataNameCols[2],tableDataNameCols[3],tableDataNameCols[4],tableDataNameCols[5]))}function writeGraphCanvases(){$("#graphSection").html('<canvas id="plot-ctime" class="graphCanvas" style="margin-top:-8.5px;"></canvas><canvas id="plot-totaldownloads" class="graphCanvas"></canvas><canvas id="plot-partdownloads" class="graphCanvas"></canvas><canvas id="plot-downloadsperday" class="graphCanvas"></canvas><canvas id="plot-vartypedownload" class="graphCanvas"></canvas><canvas id="plot-acumdownloads" class="graphCanvas"></canvas><canvas id="plot-gloverdownloads" class="graphCanvas"></canvas><canvas id="plot-pielastdays" class="graphCanvas"></canvas><canvas id="plot-pielastversion" class="graphCanvas"></canvas><canvas id="plot-piedptototal" class="graphCanvas"></canvas><canvas id="plot-piedptolast" class="graphCanvas"></canvas><canvas id="plot-dptodownloadlines" class="graphCanvas"></canvas><canvas id="plot-sizeversion" class="graphCanvas"></canvas><canvas id="plot-nline" class="graphCanvas"></canvas><canvas id="plot-piedownloads" class="graphCanvas"></canvas><canvas id="plot-activityday" class="graphCanvas"></canvas>')}function getDownloadCounter(b){updateDownloadCounter(0,b);for(var c=0;c<download_list_counter.length;c++){if(Array.isArray(download_list_counter[c][0])){download_list_counter[c][0]=download_list_counter[c][0][0]+download_list_counter[c][0][1]}}return download_list_counter};